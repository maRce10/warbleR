<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Highlight spectrogram regions — color_spectro • warbleR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Highlight spectrogram regions — color_spectro" />
<meta property="og:description" content="color_spectro highlights spectrogram regions specified by users" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">warbleR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.28</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">vignettes</li>
    <li>
      <a href="../articles/Intro_to_warbleR.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;Introduction to warbleR&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
    <li>
      <a href="../articles/warbleR_workflow_01.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Import sound files and select signals&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
    <li>
      <a href="../articles/warbleR_workflow_02.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Visual inspection and signal classification&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
    <li>
      <a href="../articles/warbleR_workflow_03.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Acoustic (dis)similarity, coordinated singing and simulating songs&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/warbleR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Highlight spectrogram regions</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/warbleR/blob/master/R/color_spectro.R'><code>R/color_spectro.R</code></a></small>
    <div class="hidden name"><code>color_spectro.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>color_spectro</code> highlights spectrogram regions specified by users</p>
    </div>

    <pre class="usage"><span class='fu'>color_spectro</span><span class='op'>(</span><span class='va'>wave</span>, wl <span class='op'>=</span> <span class='fl'>512</span>, wn <span class='op'>=</span> <span class='st'>"hanning"</span>, ovlp <span class='op'>=</span> <span class='fl'>70</span>,
dB <span class='op'>=</span> <span class='st'>"max0"</span>, collevels <span class='op'>=</span> <span class='cn'>NULL</span>, selec.col <span class='op'>=</span> <span class='st'>"red2"</span>, col.clm <span class='op'>=</span> <span class='cn'>NULL</span>, 
base.col <span class='op'>=</span> <span class='st'>"black"</span>, bg.col <span class='op'>=</span> <span class='st'>"white"</span>, strength <span class='op'>=</span> <span class='fl'>1</span>, 
cexlab <span class='op'>=</span> <span class='fl'>1</span>, cexaxis <span class='op'>=</span> <span class='fl'>1</span>, tlab <span class='op'>=</span> <span class='st'>"Time (s)"</span>, flab <span class='op'>=</span> <span class='st'>"Frequency (kHz)"</span>, 
title <span class='op'>=</span> <span class='cn'>NULL</span>, axisX <span class='op'>=</span> <span class='cn'>TRUE</span>, axisY <span class='op'>=</span> <span class='cn'>TRUE</span>, flim <span class='op'>=</span> <span class='cn'>NULL</span>, 
rm.zero <span class='op'>=</span> <span class='cn'>FALSE</span>, X <span class='op'>=</span> <span class='cn'>NULL</span>, fast.spec <span class='op'>=</span> <span class='cn'>FALSE</span>, t.mar <span class='op'>=</span> <span class='cn'>NULL</span>, 
f.mar <span class='op'>=</span> <span class='cn'>NULL</span>, interactive <span class='op'>=</span> <span class='cn'>NULL</span>, add <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>wave</th>
      <td><p>A 'wave' object produced by  <code><a href='https://rdrr.io/pkg/tuneR/man/readWave.html'>readWave</a></code> or similar functions.</p></td>
    </tr>
    <tr>
      <th>wl</th>
      <td><p>A numeric vector of length 1 specifying the window length of the spectrogram. Default 
is 512.</p></td>
    </tr>
    <tr>
      <th>wn</th>
      <td><p>Character vector of length 1 specifying window name. Default is 
"hanning". See function <code><a href='https://rdrr.io/pkg/seewave/man/ftwindow.html'>ftwindow</a></code> for more options.</p></td>
    </tr>
    <tr>
      <th>ovlp</th>
      <td><p>Numeric vector of length 1 specifying the percent overlap between two 
consecutive windows, as in <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is 70.</p></td>
    </tr>
    <tr>
      <th>dB</th>
      <td><p>Character vector of length 1 controlling the amplitude weights as in 
<code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is 'max0'.</p></td>
    </tr>
    <tr>
      <th>collevels</th>
      <td><p>Numeric. Levels used to partition amplitude range as in <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>.
Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>selec.col</th>
      <td><p>Character vector of length 1 specifying the color to be used to highlight selection. 
See 'col.clm' for specifying unique colors for each selection. Default is 'red2'. Ignored if 'col.cm' 
and 'X' are provided.</p></td>
    </tr>
    <tr>
      <th>col.clm</th>
      <td><p>Character vector of length 1 indicating the name of the column in 'X' that contains the
color names for each selection. Ignored if <code>X == NULL</code> or <code>interactive != NULL</code>. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>base.col</th>
      <td><p>Character vector of length 1 specifying the color of the background spectrogram. 
Default is 'black'.</p></td>
    </tr>
    <tr>
      <th>bg.col</th>
      <td><p>Character vector of length 1 specifying the background color for both base
and highlighted spectrograms. Default is 'white'.</p></td>
    </tr>
    <tr>
      <th>strength</th>
      <td><p>Numeric vector of length 1 controlling the strength of the highlighting color (actually how many times it is repeated in the internal color palette). Must be a positive integer. Default is 1.</p></td>
    </tr>
    <tr>
      <th>cexlab</th>
      <td><p>Numeric vector of length 1 specifying the relative size of axis 
labels. See <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is 1.</p></td>
    </tr>
    <tr>
      <th>cexaxis</th>
      <td><p>Numeric vector of length 1 specifying the relative size of axis. See 
<code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is 1.</p></td>
    </tr>
    <tr>
      <th>tlab</th>
      <td><p>Character vector of length 1 specifying the label of the time axis.</p></td>
    </tr>
    <tr>
      <th>flab</th>
      <td><p>Character vector of length 1 specifying the label of the frequency axis.</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>Logical argument to add a title to individual spectrograms. 
Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>axisX</th>
      <td><p>Logical to control whether time axis is plotted. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>axisY</th>
      <td><p>Logical to control whether frequency axis is plotted. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>flim</th>
      <td><p>A numeric vector of length 2 for the frequency limit (in kHz) of 
the spectrogram, as in <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>rm.zero</th>
      <td><p>Logical indicated if the 0 at the start of the time axis should be removed. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>X</th>
      <td><p>Optional. Data frame containing columns for start and end time of signals ('start' and 'end') and low and high frequency ('bottom.freq' and 'top.freq').</p></td>
    </tr>
    <tr>
      <th>fast.spec</th>
      <td><p>Logical. If <code>TRUE</code> then image function is used internally to create spectrograms, which substantially 
increases performance (much faster), although some options become unavailable, as collevels, and sc (amplitude scale).
This option is indicated for signals with high background noise levels. Palette colors <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.1</a></code>, <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.2</a></code>, 
<code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.3</a></code>, <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>topo.1</a></code> and <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>rainbow.1</a></code> (which should be imported from the package monitoR) seem
to work better with 'fast' spectrograms. Palette colors <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.1</a></code>, <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.2</a></code>, 
<code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.3</a></code> offer 
decreasing darkness levels.</p></td>
    </tr>
    <tr>
      <th>t.mar</th>
      <td><p>Numeric vector of length 1. Specifies the margins adjacent to the start and end points to be added when highlighting selection. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>f.mar</th>
      <td><p>Numeric vector of length 1. Specifies the margins adjacent to the low and high frequencies to be added when highlighting selection. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>interactive</th>
      <td><p>Numeric. Allow user to interactively select the signals to be highlighted by clicking 
on the graphic device. Users must select the opposite corners of a square delimiting the spectrogram region
to be highlighted. Controls the number of signals that users would be able to select (2 clicks per signal).</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>Logical. If <code>TRUE</code> new highlighting can be applied to the current plot (which means
that the function with <code>add = FALSE</code> should be run first). Default is <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A plot is produced in the graphic device.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function highlights regions of the spectrogram with different colors. The regions to be 
highlighted can be provided in a selection table (as the example data 'lbh_selec_table') or interactively ('interactive' argument).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas, M., &amp; Smith-Vidaurre, G. (2017). warbleR: An R package to streamline analysis of animal acoustic signals. Methods in Ecology and Evolution, 8(2), 184-191.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='track_freq_contour.html'>track_freq_contour</a></code> for creating spectrograms to visualize 
  frequency measurements by <code><a href='spectro_analysis.html'>spectro_analysis</a></code>, <code><a href='snr_spectrograms.html'>snr_spectrograms</a></code> for 
  creating spectrograms to optimize noise margins used in <code><a href='sig2noise.html'>sig2noise</a></code></p>
<p>Other spectrogram creators: 
<code><a href='freq_DTW.html'>freq_DTW</a>()</code>,
<code><a href='multi_DTW.html'>multi_DTW</a>()</code>,
<code><a href='phylo_spectro.html'>phylo_spectro</a>()</code>,
<code><a href='snr_spectrograms.html'>snr_spectrograms</a>()</code>,
<code><a href='spectrograms.html'>spectrograms</a>()</code>,
<code><a href='track_freq_contour.html'>track_freq_contour</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Marcelo Araya-Salas (<a href='mailto:marcelo.araya@ucr.ac.cr'>marcelo.araya@ucr.ac.cr</a>) and Grace Smith Vidaurre</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span> 
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span>list <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Phae.long1"</span>, <span class='st'>"lbh_selec_table"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>writeWave</span><span class='op'>(</span><span class='va'>Phae.long1</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Phae.long1.wav"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'>#save sound files </span>

 <span class='co'># subset selection table</span>
 <span class='va'>st</span> <span class='op'>&lt;-</span> <span class='va'>lbh_selec_table</span><span class='op'>[</span><span class='va'>lbh_selec_table</span><span class='op'>$</span><span class='va'>sound.files</span> <span class='op'>==</span> <span class='st'>"Phae.long1.wav"</span>,<span class='op'>]</span>
 
 <span class='co'># read wave file as an R object</span>
 <span class='va'>sgnl</span> <span class='op'>&lt;-</span> <span class='fu'>tuneR</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/tuneR/man/readWave.html'>readWave</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>st</span><span class='op'>$</span><span class='va'>sound.files</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>
 
 <span class='co'># create color column</span>
 <span class='va'>st</span><span class='op'>$</span><span class='va'>colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"red2"</span>, <span class='st'>"blue"</span>, <span class='st'>"green"</span><span class='op'>)</span>
 
 <span class='co'># highlight selections</span>
 <span class='fu'>color_spectro</span><span class='op'>(</span>wave <span class='op'>=</span> <span class='va'>sgnl</span>, wl <span class='op'>=</span> <span class='fl'>300</span>, ovlp <span class='op'>=</span> <span class='fl'>90</span>, flim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>8.6</span><span class='op'>)</span>, collevels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>40</span>, <span class='fl'>0</span>, <span class='fl'>5</span><span class='op'>)</span>, 
 dB <span class='op'>=</span> <span class='st'>"B"</span>, X <span class='op'>=</span> <span class='va'>st</span>, col.clm <span class='op'>=</span> <span class='st'>"colors"</span>, base.col <span class='op'>=</span> <span class='st'>"skyblue"</span>,  t.mar <span class='op'>=</span> <span class='fl'>0.07</span>, f.mar <span class='op'>=</span> <span class='fl'>0.1</span>, 
 interactive <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
 
 <span class='co'># interactive (selected manually: you have to select them by clicking on the spectrogram)</span>
 <span class='fu'>color_spectro</span><span class='op'>(</span>wave <span class='op'>=</span> <span class='va'>sgnl</span>, wl <span class='op'>=</span> <span class='fl'>300</span>, ovlp <span class='op'>=</span> <span class='fl'>90</span>, flim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>8.6</span><span class='op'>)</span>, collevels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>40</span>, <span class='fl'>0</span>, <span class='fl'>5</span><span class='op'>)</span>,
  dB <span class='op'>=</span> <span class='st'>"B"</span>, col.clm <span class='op'>=</span> <span class='st'>"colors"</span>, t.mar <span class='op'>=</span> <span class='fl'>0.07</span>, f.mar <span class='op'>=</span> <span class='fl'>1</span>, interactive <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='op'>}</span>

</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas, Grace Smith-Vidaurre.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


