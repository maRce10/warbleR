<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="warbleR">
<title>
<font size="7"><b>Introduction to warbleR</b></font> • warbleR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="&lt;font size=">
</head>
<body>
<b>Introduction to warbleR</b>" /&gt;
<meta property="og:description" content="warbleR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">warbleR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.29</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>vignettes</h6>
    <a class="dropdown-item" href="../articles/Intro_to_warbleR.html">&lt;font size="7"&gt;&lt;b&gt;Introduction to warbleR&lt;/b&gt;&lt;/font&gt;</a>
    <a class="dropdown-item" href="../articles/warbleR_workflow_01.html">&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Import sound files and select signals&lt;/b&gt;&lt;/font&gt;</a>
    <a class="dropdown-item" href="../articles/warbleR_workflow_02.html">&lt;font size="7"&gt;&lt;b&gt;"warbleR&amp;#58; Visual inspection and signal classification&lt;/b&gt;&lt;/font&gt;</a>
    <a class="dropdown-item" href="../articles/warbleR_workflow_03.html">&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Acoustic (dis)similarity, coordinated singing and simulating songs&lt;/b&gt;&lt;/font&gt;</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/maRce10/warbleR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="Intro_to_warbleR_files/kePrint-0.0.1/kePrint.js"></script><link href="Intro_to_warbleR_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1><font size="7"><b>Introduction to warbleR</b></font></h1>
                        <h4 data-toc-skip class="author">
<a href="https://marceloarayasalas.weebly.com" class="external-link">Marcelo
Araya-Salas, PhD</a> &amp; <a href="https://smith-vidaurre.com/" class="external-link">Grace
Smith-Vidaurre</a>
</h4>
            
            <h4 data-toc-skip class="date">2023-08-31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/maRce10/warbleR/blob/HEAD/vignettes/Intro_to_warbleR.Rmd" class="external-link"><code>vignettes/Intro_to_warbleR.Rmd</code></a></small>
      <div class="d-none name"><code>Intro_to_warbleR.Rmd</code></div>
    </div>

    
    
<!-- <script> -->
<!--    $(document).ready(function() { -->
<!--      $head = $('#header'); -->
<!--      $head.prepend('<img src=\"logo.png\"/>') -->
<!--    }); -->
<!-- </script> -->
<!-- &nbsp;  -->
<style type="text/css">

div#header h1.title, div#header h3.subtitle, div#header h4.author, div#header h4.date {
  text-align: center
}

</style>
<p><img src="warbleR_sticker.png" alt="warbleR logo" align="right" width="25%" height="25%"></p>
<p>The <a href="https://cran.r-project.org/package=warbleR" class="external-link">warbleR</a>
package is intended to facilitate the analysis of the structure of the
animal acoustic signals in R. Users can enter their own data into a
workflow that facilitates spectrographic visualization and measurement
of acoustic parameters <strong>warbleR</strong> makes use of the
fundamental sound analysis tools of the <strong>seewave</strong>
package, and offers new tools for acoustic structure analysis. These
tools are available for batch analysis of acoustic signals.</p>
<p> </p>
<p><font size="3">The main features of the package are:</font></p>
<ul>
<li>The use of loops to apply tasks through acoustic signals referenced
in a selection table</li>
<li>The production of image files with spectrograms that let users
organize data and verify acoustic analyzes </li>
</ul>
<p> </p>
<center>
<img src="loop_warbleR_images_optim.gif" alt="warbleR image loop" width="500">
</center>
<p> </p>
<p>The package offers functions for:</p>
<ul>
<li>Browse and download recordings of <a href="https://www.xeno-canto.org/" class="external-link">Xeno-Canto</a>
</li>
<li>Explore, organize and manipulate multiple sound files</li>
<li>Detect signals automatically (in frequency and time)</li>
<li>Create spectrograms of complete recordings or individual
signals</li>
<li>Run different measures of acoustic signal structure</li>
<li>Evaluate the performance of measurement methods</li>
<li>Catalog signals</li>
<li>Characterize different structural levels in acoustic signals</li>
<li>Statistical analysis of duet coordination</li>
<li>Consolidate databases and annotation tables</li>
</ul>
<p>Most of the functions allow the parallelization of tasks, which
distributes the tasks among several cores to improve computational
efficiency. Tools to evaluate the performance of the analysis at each
step are also available. All these tools are provided in a standardized
workflow for the analysis of the signal structure, making them
accessible to a wide range of users, including those without much
knowledge of R. <strong>warbleR</strong> is a young package (officially
published in 2017) currently in a maturation stage.</p>
<p> </p>
<div class="section level2">
<h2 id="selection-tables">Selection tables<a class="anchor" aria-label="anchor" href="#selection-tables"></a>
</h2>
<p>These objects are created with the <code><a href="../reference/selection_table.html">selection_table()</a></code>
function. The function takes data frames containing selection data (name
of the sound file, selection, start, end …), verifies if the information
is consistent (see the function <code><a href="../reference/checksels.html">checksels()</a></code> for details)
and saves the ‘diagnostic’ metadata as an attribute. The selection
tables are basically data frames in which the information contained has
been corroborated so it can be read by other <strong>warbleR</strong>
functions. The selection tables must contain (at least) the following
columns:</p>
<ol style="list-style-type: decimal">
<li>sound files (sound.files)</li>
<li>selection (select)</li>
<li>start</li>
<li>end</li>
</ol>
<p>The sample data “lbh_selec_table” contains these columns:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lbh_selec_table"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lbh_selec_table</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 1px; overflow-x: scroll; width:740px; ">
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
channel
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
1.3423884
</td>
<td style="text-align:center;">
2.220105
</td>
<td style="text-align:center;">
8.604378
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
2.3214565
</td>
<td style="text-align:center;">
2.169437
</td>
<td style="text-align:center;">
8.807053
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
0.5182553
</td>
<td style="text-align:center;">
2.218294
</td>
<td style="text-align:center;">
8.756604
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
0.2921692
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
8.822316
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
1.5832087
</td>
<td style="text-align:center;">
2.284006
</td>
<td style="text-align:center;">
8.888027
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.6265520
</td>
<td style="text-align:center;">
0.7577715
</td>
<td style="text-align:center;">
3.006834
</td>
<td style="text-align:center;">
8.822316
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.9742132
</td>
<td style="text-align:center;">
2.1043921
</td>
<td style="text-align:center;">
2.776843
</td>
<td style="text-align:center;">
8.888027
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.1233643
</td>
<td style="text-align:center;">
0.2545812
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
9.315153
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long4.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.5168116
</td>
<td style="text-align:center;">
1.6622365
</td>
<td style="text-align:center;">
2.513997
</td>
<td style="text-align:center;">
9.216586
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long4.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2.9326920
</td>
<td style="text-align:center;">
3.0768784
</td>
<td style="text-align:center;">
2.579708
</td>
<td style="text-align:center;">
10.235116
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long4.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.1453977
</td>
<td style="text-align:center;">
0.2904966
</td>
<td style="text-align:center;">
2.579708
</td>
<td style="text-align:center;">
9.742279
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>… and can be converted to the <em>selection_table</em> format like
this (after saving the corresponding sound files):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Phae.long1"</span>, <span class="st">"Phae.long2"</span>, <span class="st">"Phae.long3"</span>, <span class="st">"Phae.long4"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/writeWave.html" class="external-link">writeWave</a></span><span class="op">(</span><span class="va">Phae.long1</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Phae.long1.wav"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/writeWave.html" class="external-link">writeWave</a></span><span class="op">(</span><span class="va">Phae.long2</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Phae.long2.wav"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/writeWave.html" class="external-link">writeWave</a></span><span class="op">(</span><span class="va">Phae.long3</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Phae.long3.wav"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/writeWave.html" class="external-link">writeWave</a></span><span class="op">(</span><span class="va">Phae.long4</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Phae.long4.wav"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># parametros globales</span></span>
<span><span class="fu"><a href="../reference/warbleR_options.html">warbleR_options</a></span><span class="op">(</span>wav.path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection_table.html">selection_table</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">lbh_selec_table</span>, pb <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">st</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'selection_table' [22m [39m</code></pre>
<pre><code> [90m* The output of the following call: [39m</code></pre>
<pre><code> [90m [3mselection_table(X = lbh_selec_table, pb = FALSE) [23m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m *  A selection table data frame with 11 rows and 7 columns: [39m</code></pre>
<pre><code> [90m|sound.files    | channel| selec|  start|    end| bottom.freq| [39m</code></pre>
<pre><code> [90m|:--------------|-------:|-----:|------:|------:|-----------:| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav |       1|     1| 1.1694| 1.3424|      2.2201| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav |       1|     2| 2.1584| 2.3215|      2.1694| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav |       1|     3| 0.3433| 0.5183|      2.2183| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav |       1|     1| 0.1596| 0.2922|      2.3169| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav |       1|     2| 1.4571| 1.5832|      2.2840| [39m</code></pre>
<pre><code> [90m|Phae.long3.wav |       1|     1| 0.6266| 0.7578|      3.0068| [39m</code></pre>
<pre><code> [90m... 1 more column(s) (top.freq) [39m</code></pre>
<pre><code> [90m and 5 more row(s) [39m</code></pre>
<pre><code> [90m
 * A data frame (check.results) generated by check_sels() (as attribute)  [39m</code></pre>
<pre><code> [90mcreated by warbleR 1.1.29 [39m</code></pre>
<p>Note that the path to the sound files has been provided. This is
necessary in order to verify that the data provided conforms to the
characteristics of the audio files.</p>
<p>Selection tables have their own class in R:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">st</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "selection_table" "data.frame"     </code></pre>
<p> </p>
<div class="section level3">
<h3 id="extended-selection-tables">Extended selection tables<a class="anchor" aria-label="anchor" href="#extended-selection-tables"></a>
</h3>
<p>When the <code>extended = TRUE</code> argument the function generates
an object of the <em>extended_selection_table</em> class that also
contains a list of ‘wave’ objects corresponding to each of the
selections in the data. Therefore, the function <strong>transforms the
selection table into self-contained objects</strong> since the original
sound files are no longer needed to perform most of the acoustic
analysis in <strong>warbleR</strong>. This can greatly facilitate the
storage and exchange of (bio)acoustic data. In addition, it also speeds
up analysis, since it is not necessary to read the sound files every
time the data is analyzed.</p>
<p>Now, as mentioned earlier, you need the
<code><a href="../reference/selection_table.html">selection_table()</a></code> function to create an extended selection
table. You must also set the argument <code>extended = TRUE</code>
(otherwise, the class would be a selection table). The following code
converts the sample data into an extended selection table:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#  global parameters</span></span>
<span><span class="fu"><a href="../reference/warbleR_options.html">warbleR_options</a></span><span class="op">(</span>wav.path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">ext_st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection_table.html">selection_table</a></span><span class="op">(</span></span>
<span>  X <span class="op">=</span> <span class="va">lbh_selec_table</span>, pb <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extended <span class="op">=</span> <span class="cn">TRUE</span>, confirm.extended <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p> </p>
<p>And that is. Now the acoustic data and the selection data (as well as
the additional metadata) are all together in a single R object.</p>
<p> </p>
</div>
<div class="section level3">
<h3 id="handling-extended-selection-tables">Handling extended selection tables<a class="anchor" aria-label="anchor" href="#handling-extended-selection-tables"></a>
</h3>
<p>Several functions can be used to deal with objects of this class. You
can test if the object belongs to the
<em>extended_selection_table</em>:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/is_extended_selection_table.html">is_extended_selection_table</a></span><span class="op">(</span><span class="va">ext_st</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p> </p>
<p>You can subset the selection in the same way that any other data
frame and it will still keep its attributes:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ext_st2</span> <span class="op">&lt;-</span> <span class="va">ext_st</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/is_extended_selection_table.html">is_extended_selection_table</a></span><span class="op">(</span><span class="va">ext_st2</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>There is also a generic version of <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> for this
class of objects:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## print</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ext_st</span><span class="op">)</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'extended_selection_table' [22m [39m</code></pre>
<pre><code> [90m* The output of the following call: [39m</code></pre>
<pre><code> [90m [3mselection_table(X = lbh_selec_table, extended = TRUE, confirm.extended = FALSE,  pb = FALSE) [23m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m 
*  A selection table data frame with 11 row(s) and 7 columns: [39m</code></pre>
<pre><code> [90m|sound.files      | channel| selec| start|    end| bottom.freq| [39m</code></pre>
<pre><code> [90m|:----------------|-------:|-----:|-----:|------:|-----------:| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav_1 |       1|     1|   0.1| 0.2326|      2.3169| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav_2 |       1|     1|   0.1| 0.2262|      2.2840| [39m</code></pre>
<pre><code> [90m|Phae.long3.wav_1 |       1|     1|   0.1| 0.2312|      3.0068| [39m</code></pre>
<pre><code> [90m... 1 more column(s) (top.freq) [39m</code></pre>
<pre><code> [90m and 5 more row(s) [39m</code></pre>
<pre><code> [90m
* 11 wave object(s) (as attributes):  [39m</code></pre>
<pre><code> [90mPhae.long1.wav_1 [39m [90mPhae.long1.wav_2 [39m [90mPhae.long1.wav_3 [39m [90mPhae.long2.wav_1 [39m [90mPhae.long2.wav_2 [39m [90mPhae.long3.wav_1 [39m</code></pre>
<pre><code> [90m... and 5 more [39m</code></pre>
<pre><code> [90m
* A data frame (check.results) generated by check_sels() (as attribute) [39m</code></pre>
<pre><code> [90m
The selection table was created [3m [1m by element  [22m [23m(see 'class_extended_selection_table') [39m</code></pre>
<pre><code> [90m* 1 sampling rate(s) (in kHz):  [1m22.5 [22m [39m</code></pre>
<pre><code> [90m* 1 bit depth(s):  [1m16 [22m [39m</code></pre>
<pre><code> [90m* Created by warbleR 1.1.29 [39m</code></pre>
<p>… which is equivalent to:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ext_st</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'extended_selection_table' [22m [39m</code></pre>
<pre><code> [90m* The output of the following call: [39m</code></pre>
<pre><code> [90m [3mselection_table(X = lbh_selec_table, extended = TRUE, confirm.extended = FALSE,  pb = FALSE) [23m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m 
*  A selection table data frame with 11 row(s) and 7 columns: [39m</code></pre>
<pre><code> [90m|sound.files      | channel| selec| start|    end| bottom.freq| [39m</code></pre>
<pre><code> [90m|:----------------|-------:|-----:|-----:|------:|-----------:| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav_1 |       1|     1|   0.1| 0.2326|      2.3169| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav_2 |       1|     1|   0.1| 0.2262|      2.2840| [39m</code></pre>
<pre><code> [90m|Phae.long3.wav_1 |       1|     1|   0.1| 0.2312|      3.0068| [39m</code></pre>
<pre><code> [90m... 1 more column(s) (top.freq) [39m</code></pre>
<pre><code> [90m and 5 more row(s) [39m</code></pre>
<pre><code> [90m
* 11 wave object(s) (as attributes):  [39m</code></pre>
<pre><code> [90mPhae.long1.wav_1 [39m [90mPhae.long1.wav_2 [39m [90mPhae.long1.wav_3 [39m [90mPhae.long2.wav_1 [39m [90mPhae.long2.wav_2 [39m [90mPhae.long3.wav_1 [39m</code></pre>
<pre><code> [90m... and 5 more [39m</code></pre>
<pre><code> [90m
* A data frame (check.results) generated by check_sels() (as attribute) [39m</code></pre>
<pre><code> [90m
The selection table was created [3m [1m by element  [22m [23m(see 'class_extended_selection_table') [39m</code></pre>
<pre><code> [90m* 1 sampling rate(s) (in kHz):  [1m22.5 [22m [39m</code></pre>
<pre><code> [90m* 1 bit depth(s):  [1m16 [22m [39m</code></pre>
<pre><code> [90m* Created by warbleR 1.1.29 [39m</code></pre>
<p> </p>
<p>You can also join them in rows. Here the original
<em>extended_selection_table</em> is divided into 2 and bound again
using <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code>:</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ext_st3</span> <span class="op">&lt;-</span> <span class="va">ext_st</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">ext_st4</span> <span class="op">&lt;-</span> <span class="va">ext_st</span><span class="op">[</span><span class="fl">6</span><span class="op">:</span><span class="fl">11</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">ext_st5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">ext_st3</span>, <span class="va">ext_st4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print</span></span>
<span><span class="va">ext_st5</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'extended_selection_table' [22m [39m</code></pre>
<pre><code> [90m* The output of the following call: [39m</code></pre>
<pre><code> [90m [3mrbind(deparse.level, ..1, ..2) [23m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m 
*  A selection table data frame with 11 row(s) and 7 columns: [39m</code></pre>
<pre><code> [90m|sound.files      | channel| selec| start|    end| bottom.freq| [39m</code></pre>
<pre><code> [90m|:----------------|-------:|-----:|-----:|------:|-----------:| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_1 |       1|     1|   0.1| 0.2730|      2.2201| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_2 |       1|     1|   0.1| 0.2630|      2.1694| [39m</code></pre>
<pre><code> [90m|Phae.long1.wav_3 |       1|     1|   0.1| 0.2749|      2.2183| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav_1 |       1|     1|   0.1| 0.2326|      2.3169| [39m</code></pre>
<pre><code> [90m|Phae.long2.wav_2 |       1|     1|   0.1| 0.2262|      2.2840| [39m</code></pre>
<pre><code> [90m|Phae.long3.wav_1 |       1|     1|   0.1| 0.2312|      3.0068| [39m</code></pre>
<pre><code> [90m... 1 more column(s) (top.freq) [39m</code></pre>
<pre><code> [90m and 5 more row(s) [39m</code></pre>
<pre><code> [90m
* 11 wave object(s) (as attributes):  [39m</code></pre>
<pre><code> [90mPhae.long1.wav_1 [39m [90mPhae.long1.wav_2 [39m [90mPhae.long1.wav_3 [39m [90mPhae.long2.wav_1 [39m [90mPhae.long2.wav_2 [39m [90mPhae.long3.wav_1 [39m</code></pre>
<pre><code> [90m... and 5 more [39m</code></pre>
<pre><code> [90m
* A data frame (check.results) generated by check_sels() (as attribute) [39m</code></pre>
<pre><code> [90m
The selection table was created [3m [1m by element  [22m [23m(see 'class_extended_selection_table') [39m</code></pre>
<pre><code> [90m* 1 sampling rate(s) (in kHz):  [1m22.5 [22m [39m</code></pre>
<pre><code> [90m* 1 bit depth(s):  [1m16 [22m [39m</code></pre>
<pre><code> [90m* Created by warbleR 1.1.29 [39m</code></pre>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># igual q el original</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">ext_st</span>, <span class="va">ext_st5</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "Attributes: &lt; Component \"call\": target, current do not match when deparsed &gt;"</code></pre>
<p> </p>
<p>The ‘wave’ objects can be read individually using
<code><a href="../reference/read_wave.html">read_wave()</a></code>, a wrapper for the <code><a href="https://rdrr.io/pkg/tuneR/man/readWave.html" class="external-link">readWave()</a></code>
function of <strong>tuneR</strong>, which can handle extended selection
tables:</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wv1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wave.html">read_wave</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">ext_st</span>, index <span class="op">=</span> <span class="fl">3</span>, from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">0.37</span><span class="op">)</span></span></code></pre></div>
<p> </p>
<p>These are regular ‘wave’ objects:</p>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">wv1</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "Wave"
attr(,"package")
[1] "tuneR"</code></pre>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wv1</span></span></code></pre></div>
<pre><code>
Wave Object
    Number of Samples:      8325
    Duration (seconds):     0.37
    Samplingrate (Hertz):   22500
    Channels (Mono/Stereo): Mono
    PCM (integer format):   TRUE
    Bit (8/16/24/32/64):    16 </code></pre>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/seewave/man/spectro.html" class="external-link">spectro</a></span><span class="op">(</span><span class="va">wv1</span>, wl <span class="op">=</span> <span class="fl">150</span>, grid <span class="op">=</span> <span class="cn">FALSE</span>, scale <span class="op">=</span> <span class="cn">FALSE</span>, ovlp <span class="op">=</span> <span class="fl">90</span><span class="op">)</span></span></code></pre></div>
<p><img src="Intro_to_warbleR_files/figure-html/extn_sel_8.22-1.png" width="750"></p>
<p> </p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">wv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wave.html">read_wave</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">ext_st</span>, index <span class="op">=</span> <span class="va">i</span>, from <span class="op">=</span> <span class="fl">0.05</span>, to <span class="op">=</span> <span class="fl">0.32</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/seewave/man/spectro.html" class="external-link">spectro</a></span><span class="op">(</span><span class="va">wv</span>,</span>
<span>    wl <span class="op">=</span> <span class="fl">150</span>, grid <span class="op">=</span> <span class="cn">FALSE</span>, scale <span class="op">=</span> <span class="cn">FALSE</span>, axisX <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    axisY <span class="op">=</span> <span class="cn">FALSE</span>, ovlp <span class="op">=</span> <span class="fl">90</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="Intro_to_warbleR_files/figure-html/extn_sel_8.23-1.png" width="750">
 </p>
<p>The <code><a href="../reference/read_wave.html">read_wave()</a></code> function requires the selection table,
as well as the row index (i.e. the row number) to be able to read the
‘wave’ objects. It can also read a regular ‘wave’ file if the path is
provided.</p>
<p>Note that other functions that modify data frames are likely to
delete the attributes in which the ‘wave’ objects and metadata are
stored. For example, the merge and the extended selection box will
remove its attributes:</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create new data frame</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>sound.files <span class="op">=</span> <span class="va">ext_st</span><span class="op">$</span><span class="va">sound.files</span>, site <span class="op">=</span> <span class="st">"La Selva"</span>, lek <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"SUR"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"CCL"</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># combine</span></span>
<span><span class="va">mrg_ext_st</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">ext_st</span>, <span class="va">Y</span>, by <span class="op">=</span> <span class="st">"sound.files"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check class</span></span>
<span><span class="fu"><a href="../reference/is_extended_selection_table.html">is_extended_selection_table</a></span><span class="op">(</span><span class="va">mrg_ext_st</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p> </p>
<p>In this case, we can use the
<code><a href="../reference/fix_extended_selection_table.html">fix_extended_selection_table()</a></code> function to transfer the
attributes of the original extended selection table:</p>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fix est</span></span>
<span><span class="va">mrg_ext_st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fix_extended_selection_table.html">fix_extended_selection_table</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">mrg_ext_st</span>, Y <span class="op">=</span> <span class="va">ext_st</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check class</span></span>
<span><span class="fu"><a href="../reference/is_extended_selection_table.html">is_extended_selection_table</a></span><span class="op">(</span><span class="va">mrg_ext_st</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p> </p>
<p>This works as long as some of the original sound files are retained
and no other selections are added.</p>
<p> </p>
</div>
<div class="section level3">
<h3 id="analysis-using-extended-selection-tables">Analysis using extended selection tables<a class="anchor" aria-label="anchor" href="#analysis-using-extended-selection-tables"></a>
</h3>
<p>These objects can be used as input for most <strong>warbleR</strong>
functions. Here are some examples of <strong>warbleR</strong> functions
using <em>extended_selection_table</em>:</p>
<div class="section level4">
<h4 id="spectral-parameters">Spectral parameters<a class="anchor" aria-label="anchor" href="#spectral-parameters"></a>
</h4>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#  parametros espectrales</span></span>
<span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spectro_analysis.html">spectro_analysis</a></span><span class="op">(</span><span class="va">ext_st</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sp</span></span></code></pre></div>
<p> </p>
</div>
<div class="section level4">
<h4 id="signal-to-noise-ratio">Signal-to-noise ratio<a class="anchor" aria-label="anchor" href="#signal-to-noise-ratio"></a>
</h4>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">snr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sig2noise.html">sig2noise</a></span><span class="op">(</span><span class="va">ext_st</span>, mar <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span></span>
<span><span class="va">snr</span></span></code></pre></div>
<p> </p>
</div>
<div class="section level4">
<h4 id="dynamic-time-warping-dtw">Dynamic time warping (DTW)<a class="anchor" aria-label="anchor" href="#dynamic-time-warping-dtw"></a>
</h4>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dtw.dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/freq_DTW.html">freq_DTW</a></span><span class="op">(</span><span class="va">ext_st</span>, img <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dtw.dist</span></span></code></pre></div>
<p> </p>
</div>
</div>
<div class="section level3">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a>
</h3>
<p>The use of <em>extended_selection_table</em> objects can improve
performance (in our case, measured as time). Here we use
<strong>microbenchmark</strong> to compare the performance of
<code><a href="../reference/sig2noise.html">sig2noise()</a></code> and <strong>ggplot2</strong> to plot the
results. First, a selection table with 1000 selections is created simply
by repeating the sample data frame several times and then is converted
to an extended selection table:</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create long selection table</span></span>
<span><span class="va">lng.selec.table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">replicate</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">lbh_selec_table</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># relabels selec</span></span>
<span><span class="va">lng.selec.table</span><span class="op">$</span><span class="va">selec</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">lng.selec.table</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create extended selection table</span></span>
<span><span class="va">lng_ext_st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection_table.html">selection_table</a></span><span class="op">(</span></span>
<span>  X <span class="op">=</span> <span class="va">lng.selec.table</span>, pb <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extended <span class="op">=</span> <span class="cn">TRUE</span>, confirm.extended <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joshuaulrich/microbenchmark/" class="external-link">microbenchmark</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check performance</span></span>
<span><span class="va">mbmrk.snr</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span>extended <span class="op">=</span> <span class="fu"><a href="../reference/sig2noise.html">sig2noise</a></span><span class="op">(</span><span class="va">lng_ext_st</span>,</span>
<span>  mar <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span>, regular <span class="op">=</span> <span class="fu"><a href="../reference/sig2noise.html">sig2noise</a></span><span class="op">(</span><span class="va">lng.selec.table</span>,</span>
<span>  mar <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">mbmrk.snr</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"sig2noise"</span><span class="op">)</span></span></code></pre></div>
<p> </p>
<center>
<div class="figure">
<img src="microbenchmark.png" alt=""><p class="caption">autodetec image example</p>
</div>
</center>
<p> </p>
<p>The function runs much faster in the extended selection tables.
Performance gain is likely to improve when longer recordings and data
sets are used (that is, to compensate for computing overhead).</p>
<p> </p>
</div>
<div class="section level3">
<h3 id="sharing-acoustic-data">Sharing acoustic data<a class="anchor" aria-label="anchor" href="#sharing-acoustic-data"></a>
</h3>
<p>This new object class allows to share complete data sets, including
acoustic data. For example, the <strong>NatureSounds</strong> package
contains an extended selection table with long-billed hermit
hummingbirds vocalizations from 10 different song types:</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Phae.long.est"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Phae.long.est</span></span></code></pre></div>
<pre><code> [30mObject of class  [1m'extended_selection_table' [22m [39m</code></pre>
<pre><code> [90m [1m
Contains: [22m 
*  A selection table data frame with 50 row(s) and 8 columns: [39m</code></pre>
<pre><code> [90m|sound.files | selec| start|    end| bottom.freq| top.freq| [39m</code></pre>
<pre><code> [90m|:-----------|-----:|-----:|------:|-----------:|--------:| [39m</code></pre>
<pre><code> [90m|BR2-A1-1    |     1|   0.1| 0.2676|      1.6020|  10.9525| [39m</code></pre>
<pre><code> [90m|BR2-A1-2    |     1|   0.1| 0.2652|      1.8914|  11.0250| [39m</code></pre>
<pre><code> [90m|BR2-A1-3    |     1|   0.1| 0.2716|      1.7177|  11.0250| [39m</code></pre>
<pre><code> [90m|BR2-A1-4    |     1|   0.1| 0.2701|      1.8335|  11.0250| [39m</code></pre>
<pre><code> [90m|BR2-A1-5    |     1|   0.1| 0.2770|      2.1229|  11.0250| [39m</code></pre>
<pre><code> [90m|CCE-I3-1    |     1|   0.1| 0.2490|      1.7551|  11.0250| [39m</code></pre>
<pre><code> [90m... 2 more column(s) (lek, lek.song.type) [39m</code></pre>
<pre><code> [90m and 44 more row(s) [39m</code></pre>
<pre><code> [90m
* 50 wave object(s) (as attributes):  [39m</code></pre>
<pre><code> [90mBR2-A1-1 [39m [90mBR2-A1-2 [39m [90mBR2-A1-3 [39m [90mBR2-A1-4 [39m [90mBR2-A1-5 [39m [90mCCE-I3-1 [39m</code></pre>
<pre><code> [90m... and 44 more [39m</code></pre>
<pre><code> [90m
* A data frame (check.results) generated by check_sels() (as attribute) [39m</code></pre>
<pre><code> [90m
The selection table was created [3m [1m by element  [22m [23m(see 'class_extended_selection_table') [39m</code></pre>
<pre><code> [90m* 1 sampling rate(s) (in kHz):  [1m22.05 [22m [39m</code></pre>
<pre><code> [90m* 1 bit depth(s):  [1m8 [22m [39m</code></pre>
<pre><code> [90m* Created by warbleR &lt; 1.1.21 [39m</code></pre>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">Phae.long.est</span><span class="op">$</span><span class="va">lek.song.type</span><span class="op">)</span></span></code></pre></div>
<pre><code>
BR2-A1 CCE-I3 LOC-D1 SAT-F1 STR-A2 SUR-E1 SUR-K4 TR1-C2 TR1-C5 TR1-D4 
     5      5      5      5      5      5      5      5      5      5 </code></pre>
<p>The ability to compress large data sets and the ease of performing
analyzes that require a single R object can simplify the exchange of
data and the reproducibility of bioacoustic analyzes.</p>
<p> </p>
</div>
</div>
<div class="section level2">
<h2 id="warbler-functions-and-the-workflow-of-analysis-in-bioacoustics">
<strong>warbleR</strong> functions and the workflow of analysis in
bioacoustics<a class="anchor" aria-label="anchor" href="#warbler-functions-and-the-workflow-of-analysis-in-bioacoustics"></a>
</h2>
<p>Bioacoustic analyzes generally follow a specific processing sequence
and analysis. This sequence can be represented schematically like
this:</p>
<p><img src="analysis-workflow.png" alt="analysis workflow"></p>
<p> </p>
<p>We can group <strong>warbleR</strong> functions according to the
bioacoustic analysis stages.</p>
<p> </p>
<div class="section level3">
<h3 id="get-and-prepare-recordings">Get and prepare recordings<a class="anchor" aria-label="anchor" href="#get-and-prepare-recordings"></a>
</h3>
<p>The <code><a href="../reference/query_xc.html">query_xc()</a></code> function allows you to search and
download sounds from the free access database <a href="https://www.xeno-canto.org/" class="external-link">Xeno-Canto</a>. You can also convert
.mp3 files to .wav, change the sampling rate of the files and correct
corrupt files, among other functions.</p>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/check_wavs.html" style="     ">check_wavs</a>
</td>
<td style="text-align:center;font-style: italic;">
verify if sound files can be read
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/consolidate.html" style="     ">consolidate</a>
</td>
<td style="text-align:center;font-style: italic;">
consolidate sound files in a single folder
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame and wave files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/fix_wavs.html" style="     ">fix_wavs</a>
</td>
<td style="text-align:center;font-style: italic;">
fix waves that cannot be read in R
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
wave files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/mp32wav.html" style="     ">mp32wav</a>
</td>
<td style="text-align:center;font-style: italic;">
convert multiple mp3 files to wav format
</td>
<td style="text-align:center;font-style: italic;">
multiple mp3 files
</td>
<td style="text-align:center;font-style: italic;">
wave files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/query_xc.html" style="     ">query_xc</a>
</td>
<td style="text-align:center;font-style: italic;">
Search and download mp3 files from Xeno-Canto
</td>
<td style="text-align:center;font-style: italic;">
Scientific names/data frame
</td>
<td style="text-align:center;font-style: italic;">
mp3 files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/resample_est.html" style="     ">resample_est</a>
</td>
<td style="text-align:center;font-style: italic;">
resample wave objects in ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
extended selection tables
</td>
<td style="text-align:center;font-style: italic;">
extended selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/remove_channels.html" style="     ">remove_channels</a>
</td>
<td style="text-align:center;font-style: italic;">
remove channels in multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
wave files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/remove_silence.html" style="     ">remove_silence</a>
</td>
<td style="text-align:center;font-style: italic;">
remove silences in multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
wave files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/duration_wavs.html" style="     ">duration_wavs</a>
</td>
<td style="text-align:center;font-style: italic;">
measures duration in multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/info_wavs.html" style="     ">info_wavs</a>
</td>
<td style="text-align:center;font-style: italic;">
extract recording parameters from multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level3">
<h3 id="annotating-sound">Annotating sound<a class="anchor" aria-label="anchor" href="#annotating-sound"></a>
</h3>
<p>It is recommended to make annotations in other programs and then
import them into R (for example in Raven and import them with the
<strong>Rraven</strong> package). However, <strong>warbleR</strong>
offers some functions to facilitate manual or automatic annotation of
sound files, as well as the subsequent manipulation:</p>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/auto_detec.html" style="     ">auto_detec</a>
</td>
<td style="text-align:center;font-style: italic;">
automatic annotation of wave files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame, images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/optimize_auto_detec.html" style="     ">optimize_auto_detec</a>
</td>
<td style="text-align:center;font-style: italic;">
Try different detection settings to optimize auto_detec detections
</td>
<td style="text-align:center;font-style: italic;">
auto_detec output
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/freq_range.html" style="     ">freq_range</a>
</td>
<td style="text-align:center;font-style: italic;">
detect frequency range in selection tables
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/tailor_sels.html" style="     ">tailor_sels</a>
</td>
<td style="text-align:center;font-style: italic;">
interactive tailoring of selections
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level3">
<h3 id="organize-annotations">Organize annotations<a class="anchor" aria-label="anchor" href="#organize-annotations"></a>
</h3>
<p>The annotations (or selection tables) can be manipulated and refined
with a variety of functions. Selection tables can also be converted into
the compact format <em>extended selection tables</em>:</p>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/tailor_sels.html" style="     ">tailor_sels</a>
</td>
<td style="text-align:center;font-style: italic;">
interactive tailoring of selections
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/sort_colms.html" style="     ">sort_colms</a>
</td>
<td style="text-align:center;font-style: italic;">
order columns in an intuitive way
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/cut_sels.html" style="     ">cut_sels</a>
</td>
<td style="text-align:center;font-style: italic;">
save selections as individual wave files
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
wave files
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/filter_sels.html" style="     ">filter_sels</a>
</td>
<td style="text-align:center;font-style: italic;">
subset selection tables based on filtered image files
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables, images
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/fix_extended_selection_table.html" style="     ">fix_extended_selection_table</a>
</td>
<td style="text-align:center;font-style: italic;">
add wave objects to extended selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
extended selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/selection_table.html" style="     ">selection_table</a>
</td>
<td style="text-align:center;font-style: italic;">
create selection tables and extended selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/song_analysis.html" style="     ">song_analysis</a>
</td>
<td style="text-align:center;font-style: italic;">
measures acoustic parameters at higher structural levels of organization
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame, selection tables
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level3">
<h3 id="measure-acoustic-signal-structure">Measure acoustic signal structure<a class="anchor" aria-label="anchor" href="#measure-acoustic-signal-structure"></a>
</h3>
<p>Most <strong>warbleR</strong> functions are dedicated to quantifying
the structure of acoustic signals listed in selection tables using batch
processing. For this, 4 main measurement methods are offered:</p>
<ol style="list-style-type: decimal">
<li>Spectrographic parameters</li>
<li>Cross correlation</li>
<li>Dynamic time warping (DTW)</li>
<li>Statistical descriptors of cepstral coefficients</li>
</ol>
<p>Most functions gravitate around these methods, or variations of these
methods:</p>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/freq_range.html" style="     ">freq_range</a>
</td>
<td style="text-align:center;font-style: italic;">
detect frequency range in selection tables
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/song_analysis.html" style="     ">song_analysis</a>
</td>
<td style="text-align:center;font-style: italic;">
measures acoustic parameters at higher structural levels of organization
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame, selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/compare_methods.html" style="     ">compare_methods</a>
</td>
<td style="text-align:center;font-style: italic;">
compare the performance of methods to measure acoustic structure
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/freq_DTW.html" style="     ">freq_DTW</a>
</td>
<td style="text-align:center;font-style: italic;">
measures dynamic time warping (DTW) on dominant/fundamental frequency
contours
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
(di)similarity matrix, images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/freq_ts.html" style="     ">freq_ts</a>
</td>
<td style="text-align:center;font-style: italic;">
mesaures dominant/fundamental frequency contours
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame with frequency contours
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/inflections.html" style="     ">inflections</a>
</td>
<td style="text-align:center;font-style: italic;">
measures number of inflections in frequency contours
</td>
<td style="text-align:center;font-style: italic;">
data frame with frequency contours
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/mfcc_stats.html" style="     ">mfcc_stats</a>
</td>
<td style="text-align:center;font-style: italic;">
measures statistical descriptors of Mel cepstral coefficients
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/multi_DTW.html" style="     ">multi_DTW</a>
</td>
<td style="text-align:center;font-style: italic;">
measures dynamic time warping (DTW) on multiple contours
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
(di)similarity matrix
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/sig2noise.html" style="     ">sig2noise</a>
</td>
<td style="text-align:center;font-style: italic;">
measures signal-to-noise ratio
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/spectro_analysis.html" style="     ">spectro_analysis</a>
</td>
<td style="text-align:center;font-style: italic;">
measures spectrographic parameters
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/cross_correlation.html" style="     ">cross_correlation</a>
</td>
<td style="text-align:center;font-style: italic;">
measurec spectrographic cross-correlation
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
(di)similarity matrix
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level3">
<h3 id="verify-annotations">Verify annotations<a class="anchor" aria-label="anchor" href="#verify-annotations"></a>
</h3>
<p>Functions are provided to detect inconsistencies in the selection
tables or modify selection tables. The package also offers several
functions to generate spectrograms showing the annotations, which can be
organized by annotation categories. This allows you to verify if the
annotations match the previously defined categories, which is
particularly useful if the annotations were automatically generated.</p>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/check_sels.html" style="     ">check_sels</a>
</td>
<td style="text-align:center;font-style: italic;">
double-check selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/overlapping_sels.html" style="     ">overlapping_sels</a>
</td>
<td style="text-align:center;font-style: italic;">
finds (time) overlapping selections
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/catalog.html" style="     ">catalog</a>
</td>
<td style="text-align:center;font-style: italic;">
creates spectrogram catalog
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/catalog2pdf.html" style="     ">catalog2pdf</a>
</td>
<td style="text-align:center;font-style: italic;">
convert catalogs to .pdf
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/spectrograms.html" style="     ">spectrograms</a>
</td>
<td style="text-align:center;font-style: italic;">
create spectrogram images
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/full_spectrograms.html" style="     ">full_spectrograms</a>
</td>
<td style="text-align:center;font-style: italic;">
create spectrograms of whole sound files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files, selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/full_spectrogram2pdf.html" style="     ">full_spectrogram2pdf</a>
</td>
<td style="text-align:center;font-style: italic;">
convert full spectrograms to .pfg
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level3">
<h3 id="visually-inspection-of-annotations-and-measurements">Visually inspection of annotations and measurements<a class="anchor" aria-label="anchor" href="#visually-inspection-of-annotations-and-measurements"></a>
</h3>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/snr_spectrograms.html" style="     ">snr_spectrograms</a>
</td>
<td style="text-align:center;font-style: italic;">
plots spectrograms highlighting areas where signal-to-noise ratio is
measured
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/spectrograms.html" style="     ">spectrograms</a>
</td>
<td style="text-align:center;font-style: italic;">
create spectrogram images
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/track_freqs.html" style="     ">track_freqs</a>
</td>
<td style="text-align:center;font-style: italic;">
create spectrogram images including frequency contours
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/plot_coordination.html" style="     ">plot_coordination</a>
</td>
<td style="text-align:center;font-style: italic;">
create schematic plots of coordinated signals
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/full_spectrograms.html" style="     ">full_spectrograms</a>
</td>
<td style="text-align:center;font-style: italic;">
create spectrograms of whole sound files
</td>
<td style="text-align:center;font-style: italic;">
multiple wave files, selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level3">
<h3 id="additional-functions">Additional functions<a class="anchor" aria-label="anchor" href="#additional-functions"></a>
</h3>
<p>Finally, <strong>warbleR</strong> offers functions to simplify the
use of extended selection tables, organize large numbers of images with
spectrograms and generate elaborated signal visualizations:</p>
<table class="table table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Function
</th>
<th style="text-align:center;">
Description
</th>
<th style="text-align:center;">
Works on
</th>
<th style="text-align:center;">
Output
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/is_extended_selection_table.html" style="     ">is_extended_selection_table</a>
</td>
<td style="text-align:center;font-style: italic;">
check if object is extended selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
<td style="text-align:center;font-style: italic;">
TRUE/FALSE
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/is_selection_table.html" style="     ">is_selection_table</a>
</td>
<td style="text-align:center;font-style: italic;">
check if object is selection tables
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
<td style="text-align:center;font-style: italic;">
TRUE/FALSE
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/catalog2pdf.html" style="     ">catalog2pdf</a>
</td>
<td style="text-align:center;font-style: italic;">
convert catalogs to .pdf
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/move_imgs.html" style="     ">move_imgs</a>
</td>
<td style="text-align:center;font-style: italic;">
moves images among folders
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/harmonic_track.html" style="     ">harmonic_track</a>
</td>
<td style="text-align:center;font-style: italic;">
measures harmonics with highest energy
</td>
<td style="text-align:center;font-style: italic;">
wave object
</td>
<td style="text-align:center;font-style: italic;">
data frame with frequency contours
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/map_xc.html" style="     ">map_xc</a>
</td>
<td style="text-align:center;font-style: italic;">
created maps from Xeno-Canto recordings
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/test_coordination.html" style="     ">test_coordination</a>
</td>
<td style="text-align:center;font-style: italic;">
test statistical significance of vocal coordination
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
<td style="text-align:center;font-style: italic;">
data frame
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/full_spectrogram2pdf.html" style="     ">full_spectrogram2pdf</a>
</td>
<td style="text-align:center;font-style: italic;">
convert full spectrograms to .pfg
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/color_spectro.html" style="     ">color_spectro</a>
</td>
<td style="text-align:center;font-style: italic;">
highlight signals with colors in a spectrogram
</td>
<td style="text-align:center;font-style: italic;">
wave object
</td>
<td style="text-align:center;font-style: italic;">
plot in R
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/freq_range_detec.html" style="     ">freq_range_detec</a>
</td>
<td style="text-align:center;font-style: italic;">
detect frequency range in wave objetcs
</td>
<td style="text-align:center;font-style: italic;">
wave object
</td>
<td style="text-align:center;font-style: italic;">
data frame, plot in R
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/open_wd.html" style="     ">open_wd</a>
</td>
<td style="text-align:center;font-style: italic;">
open working directory
</td>
<td style="text-align:center;font-style: italic;">
</td>
<td style="text-align:center;font-style: italic;">
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/phylo_spectro.html" style="     ">phylo_spectro</a>
</td>
<td style="text-align:center;font-style: italic;">
plots phylogenetic trees with spectrograms
</td>
<td style="text-align:center;font-style: italic;">
selection tables
</td>
<td style="text-align:center;font-style: italic;">
plot in R
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/read_wave.html" style="     ">read_wave</a>
</td>
<td style="text-align:center;font-style: italic;">
read wave files and wave objects
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
wave object
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/sim_songs.html" style="     ">sim_songs</a>
</td>
<td style="text-align:center;font-style: italic;">
simulate songs
</td>
<td style="text-align:center;font-style: italic;">
</td>
<td style="text-align:center;font-style: italic;">
wave object, wave file and selection table
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/tweak_spectro.html" style="     ">tweak_spectro</a>
</td>
<td style="text-align:center;font-style: italic;">
creates mosaic plots with spectrograms with different display parameters
</td>
<td style="text-align:center;font-style: italic;">
selection tables, ext. selection tables
</td>
<td style="text-align:center;font-style: italic;">
images
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
<a href="https://marce10.github.io/warbleR/reference/warbleR_options.html" style="     ">warbleR_options</a>
</td>
<td style="text-align:center;font-style: italic;">
define global parameters for warbleR functions
</td>
<td style="text-align:center;font-style: italic;">
</td>
<td style="text-align:center;font-style: italic;">
</td>
</tr>
</tbody>
</table>
<p> </p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Araya-Salas M, G Smith-Vidaurre &amp; M Webster. 2017. Assessing the
effect of sound file compression and background noise on measures of
acoustic signal structure. Bioacoustics 4622, 1-17</li>
<li>Araya-Salas M, Smith-Vidaurre G (2017) warbleR: An R package to
streamline analysis of animal acoustic signals. Methods Ecol Evol
8:184-191.</li>
</ol>
<p> </p>
<hr>
<p><font size="4">Session information</font></p>
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 22.04.3 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0

locale:
 [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        LC_COLLATE=C.UTF-8    
 [5] LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    LC_PAPER=C.UTF-8       LC_NAME=C             
 [9] LC_ADDRESS=C           LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   

time zone: UTC
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] kableExtra_1.3.4   warbleR_1.1.29     NatureSounds_1.0.4 knitr_1.43         seewave_2.2.1     
[6] tuneR_1.4.5       

loaded via a namespace (and not attached):
 [1] sass_0.4.7        bitops_1.0-7      xml2_1.3.5        stringi_1.7.12    digest_0.6.33    
 [6] magrittr_2.0.3    evaluate_0.21     fastmap_1.1.1     rprojroot_2.0.3   jsonlite_1.8.7   
[11] brio_1.1.3        httr_1.4.7        rvest_1.0.3       purrr_1.0.2       viridisLite_0.4.2
[16] scales_1.2.1      pbapply_1.7-2     textshaping_0.3.6 jquerylib_0.1.4   cli_3.6.1        
[21] rlang_1.1.1       fftw_1.0-7        munsell_0.5.0     cachem_1.0.8      yaml_2.3.7       
[26] tools_4.3.1       parallel_4.3.1    memoise_2.0.1     colorspace_2.1-0  webshot_0.5.5    
[31] vctrs_0.6.3       R6_2.5.1          proxy_0.4-27      lifecycle_1.0.3   dtw_1.23-1       
[36] stringr_1.5.0     fs_1.6.3          MASS_7.3-60       ragg_1.2.5        desc_1.4.2       
[41] pkgdown_2.0.7     bslib_0.5.1       glue_1.6.2        Rcpp_1.0.11       systemfonts_1.0.4
[46] highr_0.10        xfun_0.40         rstudioapi_0.15.0 rjson_0.2.21      htmltools_0.5.6  
[51] svglite_2.1.1     rmarkdown_2.24    testthat_3.1.10   signal_0.7-7      compiler_4.3.1   
[56] RCurl_1.98-1.12  </code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Marcelo Araya-Salas, Grace Smith-Vidaurre.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  
</body>
</html>
