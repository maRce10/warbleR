<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find overlapping selections — overlapping_sels • warbleR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Find overlapping selections — overlapping_sels"><meta name="description" content="overlapping_sels finds which selections overlap in time within a given sound file."><meta property="og:description" content="overlapping_sels finds which selections overlap in time within a given sound file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">warbleR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.35</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>vignettes</h6></li>
    <li><a class="dropdown-item" href="../articles/a_warbleR.html">Package overview</a></li>
    <li><a class="dropdown-item" href="../articles/b_annotation_data_format.html">Annotation data format</a></li>
    <li><a class="dropdown-item" href="../articles/c_warbleR_workflow_02.html">Visual inspection and signal classification</a></li>
    <li><a class="dropdown-item" href="../articles/d_warbleR_workflow_03.html">Acoustic (dis)similarity, coordinated singing and simulating songs</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/maRce10/warbleR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Find overlapping selections</h1>
      <small class="dont-index">Source: <a href="https://github.com/maRce10/warbleR/blob/master/R/overlapping_sels.R" class="external-link"><code>R/overlapping_sels.R</code></a></small>
      <div class="d-none name"><code>overlapping_sels.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>overlapping_sels</code> finds which selections overlap in time within a given sound file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">overlapping_sels</span><span class="op">(</span></span>
<span>  <span class="va">X</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pb <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  max.ovlp <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  relabel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  drop <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  priority <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  priority.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  indx.row <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>'selection_table' object or data frame with the following columns: 1) "sound.files": name of the sound
files, 2) "selec": number of the selections, 3) "start": start time of selections, 4) "end":
end time of selections.</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>Logical. Indicates if only the index of the overlapping selections would be returned.
Default is <code>FALSE</code>.</p></dd>


<dt id="arg-pb">pb<a class="anchor" aria-label="anchor" href="#arg-pb"></a></dt>
<dd><p>Logical argument to control progress bar and messages. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-max-ovlp">max.ovlp<a class="anchor" aria-label="anchor" href="#arg-max-ovlp"></a></dt>
<dd><p>Numeric vector of length 1 specifying the maximum overlap allowed (in seconds)
. Default is 0.</p></dd>


<dt id="arg-relabel">relabel<a class="anchor" aria-label="anchor" href="#arg-relabel"></a></dt>
<dd><p>Logical. If <code>TRUE</code> then selection names ('selec' column) are reset within each sound files.
Default is <code>FALSE</code>.</p></dd>


<dt id="arg-drop">drop<a class="anchor" aria-label="anchor" href="#arg-drop"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, when 2 or more selections overlap the function will remove
all but one of the overlapping selection. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-priority">priority<a class="anchor" aria-label="anchor" href="#arg-priority"></a></dt>
<dd><p>Character vector. Controls the priority criteria used for removing overlapped selections. It
must list the levels of the column used to determine priority (argument priority.col) in the desired
priority order. Default is <code>NULL</code>.</p></dd>


<dt id="arg-priority-col">priority.col<a class="anchor" aria-label="anchor" href="#arg-priority-col"></a></dt>
<dd><p>Character vector of length 1 with the name of the column use to determine the priority of
overlapped selections. Default is <code>NULL</code>.</p></dd>


<dt id="arg-indx-row">indx.row<a class="anchor" aria-label="anchor" href="#arg-indx-row"></a></dt>
<dd><p>Logical. If <code>TRUE</code> then a character column with the indices of all selections that overlapped with
each selection is added to the ouput data frame (if <code>index = TRUE</code>). For instance, if the selections in rows 1,2
and 3 all overlapped with each other, the 'indx.row' value would be "1/2/3" for all. However, if selection 3 only overlaps
 with 2 but not with 1, then it returns, "1/2" for row 1, "1/2/3" for row 2, and "2/3" for row 3. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Numeric. Controls whether parallel computing is applied.
It specifies the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical to control if messages are printed to the console.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the columns in X plus an additional column ('ovlp.sels') indicating
which selections overlap. For instance, if the selections in rows 1,2
 overlap and 2 and 3 also overlap, the 'ovlp.sels' label would be the same for all 3 selections. If
<code>drop = TRUE</code> only the non-overlapping selections are returned.and if 2 or more selections
overlap only the first one is kept. The arguments 'priority' and 'priority.col' can be used to modified the criterium for dropping overlapping selections.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function detects selections within a selection table that overlap in time. Selections must be
listed in a data frame similar to <code><a href="lbh_selec_table.html">lbh_selec_table</a></code>. Note that row names are set to <code>1:nrow(X)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Araya-Salas, M., &amp; Smith-Vidaurre, G. (2017). warbleR: An R package to streamline analysis of animal acoustic signals. Methods in Ecology and Evolution, 8(2), 184-191.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="filter_sels.html">filter_sels</a></code>, <code><a href="lbh_selec_table.html">lbh_selec_table</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Marcelo Araya-Salas (<a href="mailto:marcelo.araya@ucr.ac.cr">marcelo.araya@ucr.ac.cr</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># no overlap</span></span></span>
<span class="r-in"><span>  <span class="fu">overlapping_sels</span><span class="op">(</span>X <span class="op">=</span> <span class="va">lbh_selec_table</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># modified lbh_selec_table to make the first and second selection overlap</span></span></span>
<span class="r-in"><span>  <span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">lbh_selec_table</span></span></span>
<span class="r-in"><span>  <span class="va">Y</span><span class="op">$</span><span class="va">end</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1.5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">overlapping_sels</span><span class="op">(</span>X <span class="op">=</span> <span class="va">Y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># drop overlapping</span></span></span>
<span class="r-in"><span>  <span class="fu">overlapping_sels</span><span class="op">(</span>X <span class="op">=</span> <span class="va">Y</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># get index instead</span></span></span>
<span class="r-in"><span>  <span class="fu">overlapping_sels</span><span class="op">(</span>X <span class="op">=</span> <span class="va">Y</span>, index <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #000000;">No overlapping selections were found</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #000000;">2 selections overlapped</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #000000;">2 selections overlapped, 1 were removed</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 5</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcelo Araya-Salas, Grace Smith-Vidaurre.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

